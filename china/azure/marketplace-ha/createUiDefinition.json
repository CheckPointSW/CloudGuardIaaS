{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Compute.MultiVm",
  "version": "0.1.2-preview",
  "parameters": {
    "basics": [
      {
        "name": "basics settings text block",
        "type": "Microsoft.Common.TextBlock",
        "visible": true,
        "options": {
          "text": "Please follow the Check Point CloudGuard IaaS High Availability Administration Guide.",
          "link": {
            "label": "Administration Guide",
            "uri": "https://sc1.checkpoint.com/documents/IaaS/WebAdminGuides/EN/CP_CloudGuard_Network_for_Azure_HA_Cluster/Default.htm"
          }
        }
      },
      {
        "name": "clusterObjectNameUi",
        "type": "Microsoft.Common.TextBox",
        "label": "Cluster Object Name",
        "toolTip": "The name of the cluster object.",
        "constraints": {
          "required": true,
          "regex": "^[a-z0-9A-Z]{1,30}$",
          "validationMessage": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
        }
      },
      {
        "name": "auth",
        "type": "Microsoft.Compute.CredentialsCombo",
        "label": {
          "authenticationType": "Authentication type",
          "password": "Password",
          "confirmPassword": "Confirm password",
          "sshPublicKey": "SSH public key"
        },
        "toolTip": {
          "password": "The user 'admin' password",
          "sshPublicKey": "Paste an OpenSSH public key. You can generate a key pair using ssh-keygen (Linux, OS X, Cygwin) or PuttyGen (Windows)"
        },
        "constraints": {
          "required": true
        },
        "options": {
          "hideConfirmation": false,
          "hidePassword": false
        },
        "osPlatform": "Linux"
      }
    ],
    "steps": [
      {
        "name": "chkp",
        "label": "CloudGuard Cluster settings",
        "subLabel": {
          "preValidation": "Configure Cluster Object settings",
          "postValidation": "Done"
        },
        "bladeTitle": "Cluster Object settings",
        "elements": [
          {
            "name": "InfoAzureAdminGuide",
            "type": "Microsoft.Common.InfoBox",
            "visible": "true",
            "options": {
              "icon": "Info",
              "text": "See <a href='https://sc1.checkpoint.com/documents/IaaS/WebAdminGuides/EN/CP_CloudGuard_Network_for_Azure_HA_Cluster/Content/Topics-Azure-HA/Introduction.htm' target='_blank'>CloudGuard Network for Azure administration guide</a> for detailed deployment and configuration steps "
            }
          },
          {
            "name": "cloudGuardVersion",
            "type": "Microsoft.Common.DropDown",
            "label": "Version",
            "defaultValue": "R82",
            "toolTip": "Check Point Recommended version for all deployments is R82",
            "constraints": {
              "allowedValues": [
                {
                  "label": "R81.10",
                  "value": "R81.10"
                },
                {
                  "label": "R81.20",
                  "value": "R81.20"
                },
                {
                  "label": "R82",
                  "value": "R82"
                }
              ]
            }
          },
          {
            "name": "R80Offer",
            "type": "Microsoft.Common.DropDown",
            "label": "License type",
            "toolTip": "The type of license.",
            "defaultValue": "Bring Your Own License",
            "visible": true,
            "constraints": {
              "allowedValues": [
                {
                  "label": "Bring Your Own License",
                  "value": "Bring Your Own License"
                }
              ]
            }
          },
          {
            "name": "InfoVMSize",
            "type": "Microsoft.Common.InfoBox",
            "visible": "true",
            "options": {
              "icon": "Info",
              "text": "Check Point recommends a minimum of 4 vCores for optimal operation"
            }
          },
          {
            "name": "R8110vmSizeUiBYOL",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.10'), contains(steps('chkp').R80Offer, 'Bring Your Own License'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8110",
              "sku": "sg-byol"
            },
            "count": 2
          },
          {
            "name": "R8110vmSizeUiNGTP",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.10'), contains(steps('chkp').R80Offer, '(NGTP)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8110",
              "sku": "sg-ngtp"
            },
            "count": 2
          },
          {
            "name": "R8110vmSizeUiNGTX",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.10'), contains(steps('chkp').R80Offer, '(NGTX)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8110",
              "sku": "sg-ngtx"
            },
            "count": 2
          },
          {
            "name": "R8120vmSizeUiBYOL",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.20'), contains(steps('chkp').R80Offer, 'Bring Your Own License'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8120",
              "sku": "sg-byol"
            },
            "count": 2
          },
          {
            "name": "R8120vmSizeUiNGTP",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.20'), contains(steps('chkp').R80Offer, '(NGTP)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8120",
              "sku": "sg-ngtp"
            },
            "count": 2
          },
          {
            "name": "R8120vmSizeUiNGTX",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R81.20'), contains(steps('chkp').R80Offer, '(NGTX)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r8120",
              "sku": "sg-ngtx"
            },
            "count": 2
          },
          {
            "name": "R82vmSizeUiBYOL",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R82'), contains(steps('chkp').R80Offer, 'Bring Your Own License'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r82",
              "sku": "sg-byol"
            },
            "count": 2
          },
          {
            "name": "R82vmSizeUiNGTP",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R82'), contains(steps('chkp').R80Offer, '(NGTP)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r82",
              "sku": "sg-ngtp"
            },
            "count": 2
          },
          {
            "name": "R82vmSizeUiNGTX",
            "type": "Microsoft.Compute.SizeSelector",
            "visible": "[and(equals(steps('chkp').cloudGuardVersion, 'R82'), contains(steps('chkp').R80Offer, '(NGTX)'))]",
            "label": "Virtual machine size",
            "toolTip": "The VM size of the Security Gateway",
            "recommendedSizes": [
              "Standard_D4ds_v4",
              "Standard_D4d_v4"
            ],
            "constraints": {
              "allowedSizes": [
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D48_v4",
                "Standard_D64_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D32s_v4",
                "Standard_D48s_v4",
                "Standard_D64s_v4",
                "Standard_D2_v4",
                "Standard_D4_v4",
                "Standard_D8_v4",
                "Standard_D16_v4",
                "Standard_D32_v4",
                "Standard_D2s_v4",
                "Standard_D4s_v4",
                "Standard_D8s_v4",
                "Standard_D16s_v4",
                "Standard_D2d_v4",
                "Standard_D4d_v4",
                "Standard_D8d_v4",
                "Standard_D16d_v4",
                "Standard_D32d_v4",
                "Standard_D2ds_v4",
                "Standard_D4ds_v4",
                "Standard_D8ds_v4",
                "Standard_D16ds_v4",
                "Standard_D32ds_v4",
                "Standard_F2s",
                "Standard_F4s",
                "Standard_F8s",
                "Standard_F16s",
                "Standard_M8ms",
                "Standard_M16ms",
                "Standard_M32ms",
                "Standard_M64ms",
                "Standard_M64s",
                "Standard_F2",
                "Standard_F4",
                "Standard_F8",
                "Standard_F16"
              ]
            },
            "osPlatform": "Linux",
            "imageReference": {
              "publisher": "1740992136172",
              "offer": "check-point-cg-r82",
              "sku": "sg-ngtx"
            },
            "count": 2
          },
          {
            "name": "sicKeyUi",
            "type": "Microsoft.Common.PasswordBox",
            "label": {
              "password": "SIC key",
              "confirmPassword": "Confirm SIC key"
            },
            "toolTip": "Set the Secure Internal Communication one time secret used to set up trust between the cluster object and the management server.",
            "constraints": {
              "required": true,
              "regex": "^[a-z0-9A-Z]{12,30}$",
              "validationMessage": "Only alphanumeric characters are allowed, and the value must be 12-30 characters long."
            },
            "options": {
              "hideConfirmation": false
            }
          },
          {
            "name": "allowSmart1CloudConnection",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Quick connect to Smart-1 Cloud",
            "defaultValue": "Yes",
            "toolTip": "Automatically connect this Cluster to Smart-1 Cloud - Check Point's Security Management as a Service",
             "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": "yes"
                },
                {
                  "label": "No",
                  "value": "no"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "InfoS1C",
            "type": "Microsoft.Common.InfoBox",
            "visible": "[equals(steps('chkp').allowSmart1CloudConnection, 'yes')]",
            "options": {
              "icon": "Info",
              "text": "Follow these instructions to quickly connect this Cluster to Smart-1 Cloud <br><a href='https://support.checkpoint.com/results/sk/sk180501' target='_blank'>sk180501-Connecting CloudGuard Network Security Public Cloud Gateway to Smart-1 Cloud</a>."
            }
          },
          {
            "name": "Smart1CloudTokenA",
            "type": "Microsoft.Common.TextBox",
            "label": "Smart-1 Cloud Token Member A",
            "toolTip": "Paste here the token copied from the Connect Gateway (Member A) screen in Smart-1 Cloud portal",
            "constraints": {
              "required": true,
              "regex": "[\\S\\s]{5,}",
              "validationMessage": "Smart1Cloud Token Should contain at lease 5 characters"
            },
            "visible": "[equals(steps('chkp').allowSmart1CloudConnection, 'yes')]"
          },
          {
              "name": "Smart1CloudTokenB",
              "type": "Microsoft.Common.TextBox",
              "label": "Smart-1 Cloud Token Member B",
              "toolTip": "Paste here the token copied from the Connect Gateway (Member B) screen in Smart-1 Cloud portal",
              "constraints": {
                "required": true,
                "regex": "[\\S\\s]{5,}",
                "validationMessage": "Smart1Cloud Token Should contain at lease 5 characters"
              },
              "visible": "[equals(steps('chkp').allowSmart1CloudConnection, 'yes')]"
          }
        ]
      },
      {
        "name": "chkp-advanced",
        "label": "CloudGuard Advanced settings",
        "subLabel": {
          "preValidation": "Configure Cluster Object settings",
          "postValidation": "Done"
        },
        "bladeTitle": "CloudGuard Cluster Advanced settings",
        "elements": [
          {
            "name": "InfoAdvanced",
            "type": "Microsoft.Common.InfoBox",
            "visible": "true",
            "options": {
              "icon": "Info",
              "text": "This section includes OPTIONAL advanced configuration.\nTo proceed with Check Point default settings, click Next"
            }
          },
          {
            "name": "adminShell",
            "type": "Microsoft.Common.DropDown",
            "label": "Default shell for the admin user",
            "defaultValue": "/etc/cli.sh",
            "toolTip": "The default shell for the admin user",
            "constraints": {
              "allowedValues": [
                {
                  "label": "/etc/cli.sh",
                  "value": "/etc/cli.sh"
                },
                {
                  "label": "/bin/bash",
                  "value": "/bin/bash"
                },
                {
                  "label": "/bin/csh",
                  "value": "/bin/csh"
                },
                {
                  "label": "/bin/tcsh",
                  "value": "/bin/tcsh"
                }
              ]
            }
          },
          {
            "name": "SerialPasswordInfoBox",
            "type": "Microsoft.Common.InfoBox",
            "visible": "[bool(basics('auth').sshPublicKey)]",
            "options": {
              "icon": "Info",
              "text": "Check Point recommends setting serial console password and maintenance-mode password for recovery purposes.      For R81.10 and below the serial console password is used also as maintenance-mode password"
            }
          },
          {
            "visible": "[bool(basics('auth').sshPublicKey)]",
            "name": "EnableSerialConsolePassword",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Enable Serial console password",
            "defaultValue": "No",
            "toolTip": "A unique password hash to enable VM connection via serial console.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": true
                },
                {
                  "label": "No",
                  "value": false
                }
              ]
            }
          },
          {
            "name": "AdditionalPassword",
            "type": "Microsoft.Common.PasswordBox",
            "toolTip": "Serial console password hash, used to enable password authentication (using serial console). To generate password hash use the command 'openssl passwd -6 PASSWORD'",
            "visible": "[and(bool(basics('auth').sshPublicKey), steps('chkp-advanced').EnableSerialConsolePassword)]",
            "label": {
              "password": "Password hash",
              "confirmPassword": "Confirm password"
            },
            "constraints": {
              "required": true,
              "regex": "^.{12,300}$",
              "validationMessage": "The value must be the output of the hash command."
            },
            "options": {
              "hideConfirmation": false
            }
          },
          {
            "name": "MaintenanceModeInfoBox",
            "type": "Microsoft.Common.InfoBox",
            "visible": "[and(bool(basics('auth').password), not(contains('R81.10', steps('chkp').cloudGuardVersion)))]",
            "options": {
              "icon": "Info",
              "text": "Check Point recommends setting a maintenance-mode password for recovery purposes"
            }
          },
          {
            "visible": "[not(contains('R81.10', steps('chkp').cloudGuardVersion))]",
            "name": "MaintenanceModePassword",
            "type": "Microsoft.Common.PasswordBox",
            "defaultValue": "",
            "toolTip": "To generate a password hash use the command 'grub2-mkpasswd-pbkdf2' on Linux and paste it here.",
            "label": {
              "password": "Maintenance Mode password hash",
              "confirmPassword": "Confirm Password"
            },
            "constraints": {
              "validationMessage": "The value must be the output of the hash command."
            },
            "options": {
              "hideConfirmation": false
            }
          },
          {
            "name": "managedSystemAssigned",
            "type": "Microsoft.Common.OptionsGroup",
            "visible": true,
            "label": "Create a System Assigned Identity",
            "toolTip": "Automatically create a Service Principal for this deployment.",
            "defaultValue": "Yes",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": "yes"
                },
                {
                  "label": "No",
                  "value": "no"
                }
              ]
            }
          },
          {
            "name": "availabilityOptions",
            "type": "Microsoft.Common.DropDown",
            "label": "Availability options",
            "defaultValue": "Availability Set",
            "toolTip": "Use replicated Cluster VMs in Availability Set or Availability Zones. Note that the load balancers and their IP addresses will be zone redundant in any case.",
            "visible": "[contains(' chinaeast chinaeast2 chinaeast3 chinanorth chinanorth2 chinanorth3 australiaeast brazilsouth canadacentral centralus eastasia eastus eastus2 francecentral germanywestcentral japaneast koreacentral northeurope norwayeast southafricanorth southcentralus southeastasia swedencentral uksouth usgovvirginia westeurope westus2 westus3 switzerlandnorth qatarcentral centralindia uaenorth italynorth ', concat(' ', location(), ' '))]",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Availability Set",
                  "value": "Availability Set"
                },
                {
                  "label": "Availability Zones",
                  "value": "Availability Zones"
                }
              ]
            }
          },
          {
            "name": "bootstrapScript",
            "type": "Microsoft.Common.FileUpload",
            "label": "Bootstrap script",
            "toolTip": "An optional script to run on the initial boot",
            "constraints": {
              "required": false,
              "accept": ".sh,text/plain"
            },
            "options": {
              "multiple": false,
              "uploadMode": "file",
              "openMode": "text",
              "encoding": "UTF-8"
            }
          },
          {
            "name": "allowUploadDownload",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Automatically download updates and share statistical data for product improvement purpose",
            "defaultValue": "Yes",
            "toolTip": "Automatically download Blade Contracts and other important data. Improve product experience by sending data to Check Point",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": "true"
                },
                {
                  "label": "No",
                  "value": "false"
                }
              ]
            }
          },
          {
            "name": "VMDiskType",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "VM disk type",
            "toolTip": "Type of CloudGuard disk.",
            "visible": "[not(contains('R81.10' , steps('chkp').cloudGuardVersion))]",
            "defaultValue": "Premium",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Standard",
                  "value": "Standard_LRS"
                },
                {
                  "label": "Premium",
                  "value": "Premium_LRS"
                }
              ]
            }
          },
          {
            "name": "VMDiskTypeOldVersions",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "VM disk type",
            "toolTip": "Type of CloudGuard disk.",
            "visible": "[contains('R81.10' , steps('chkp').cloudGuardVersion)]",
            "defaultValue": "Standard",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Standard",
                  "value": "Standard_LRS"
                },
                {
                  "label": "Premium",
                  "value": "Premium_LRS"
                }
              ]
            }
          },
          {
            "name": "InfoVMDiskSpace",
            "type": "Microsoft.Common.InfoBox",
            "visible": "true",
            "options": {
              "icon": "Info",
              "text": "See <a href='https://support.checkpoint.com/results/sk/sk156552' target='_blank'>Adding disk space in CloudGuard</a> for instructions on adding additional disk space "
            }
          },
          {
            "name": "additionalDiskSizeGB",
            "type": "Microsoft.Common.TextBox",
            "label": "Additional disk space (GB)",
            "defaultValue": "0",
            "toolTip": "Additional disk space (in GB), initial disk size is 100 GB.",
            "constraints": {
              "regex": "^([0-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-2][0-9][0-9][0-9]|3[0-8][0-9][0-9]|399[0-5])$",
              "validationMessage": "Select a number between 0 and 3995"
            }
          },
          {
            "name": "useCustomImageUri",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Use development image uri",
            "defaultValue": "No",
            "toolTip": "Use custom image URI.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": "Yes"
                },
                {
                  "label": "No",
                  "value": "No"
                }
              ],
              "required": true
            },
            "visible": false
          },
          {
            "name": "sourceImageVhdUri",
            "type": "Microsoft.Common.TextBox",
            "label": "Development Image URI",
            "toolTip": "The URI of the blob containing the development image",
            "constraints": {
              "required": "[equals(steps('chkp-advanced').useCustomImageUri, 'Yes')]",
              "regex": "^[a-z0-9A-Z_\\-\\.\\:\\/]{1,500}.vhd$",
              "validationMessage": "Only alphanumeric characters and '_','-','.',':','/' are allowed, the value must be 1-500 characters long and must end with .vhd. "
            },
            "visible": "[equals(steps('chkp-advanced').useCustomImageUri, 'Yes')]"
          },
          {
            "name": "customMetrics",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Enable CloudGuard metrics",
            "defaultValue": "Yes",
            "toolTip": "Enable CloudGuard metrics in order to send statuses and statistics collected from Cluster members to the Azure Monitor service.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Yes",
                  "value": "yes"
                },
                {
                  "label": "No",
                  "value": "no"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "customMetricsInfoBox",
            "type": "Microsoft.Common.InfoBox",
            "visible": "[and(equals(steps('chkp-advanced').customMetrics, 'yes'), not(equals(steps('chkp-advanced').managedSystemAssigned, 'yes')))]",
            "options": {
              "icon": "Warning",
              "text": "CloudGuard metrics can't be used when System Assigned Identity is disabled"
            }
          },
          {
            "name": "floatingIP",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Deploy the Load Balancers with floating IP",
            "defaultValue": "No",
            "toolTip": "Deploy the Load Balancers with floating IP.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "No",
                  "value": "no"
                },
                {
                  "label": "Yes",
                  "value": "yes"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "publicIPPrefix",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Use public IP prefix",
            "defaultValue": "No",
            "toolTip": "Use public IP prefix.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "No",
                  "value": "no"
                },
                {
                  "label": "Yes",
                  "value": "yes"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "createNewIPPrefix",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Create public IP prefix",
            "defaultValue": "No",
            "toolTip": "Create new public IP prefix to use.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "No",
                  "value": "no"
                },
                {
                  "label": "Yes",
                  "value": "yes"
                }
              ]
            },
            "visible": "[equals(steps('chkp-advanced').publicIPPrefix, 'yes')]"
          },
          {
            "name": "ipPrefixExistingResourceId",
            "type": "Microsoft.Common.TextBox",
            "label": "Public IP prefix resource id",
            "defaultValue": "",
            "toolTip": "Use an exisiting public IP prefix resource id.",
            "constraints": {
              "required": true,
              "regex": "^[a-z0-9A-Z -.:/n]{1,}$",
              "validationMessage": "Only alphanumeric characters, hyphens, spaces, periods, and colons are allowed."
            },
            "visible": "[equals(steps('chkp-advanced').createNewIPPrefix, 'no')]"
          }
        ]
      },
      {
        "name": "network",
        "label": "Network settings",
        "subLabel": {
          "preValidation": "Configure network settings",
          "postValidation": "Done"
        },
        "bladeTitle": "Network settings",
        "elements": [
          {
            "name": "virtualNetwork",
            "type": "Microsoft.Network.VirtualNetworkCombo",
            "label": {
              "virtualNetwork": "Virtual network",
              "subnets": "Subnets"
            },
            "toolTip": {
              "virtualNetwork": "Virtual Network Name",
              "subnets": "List of subnets to deploy into"
            },
            "defaultValue": {
              "name": "vnet01",
              "addressPrefixSize": "/16"
            },
            "constraints": {
              "minAddressPrefixSize": "/28"
            },
            "options": {
              "hideExisting": false
            },
            "subnets": {
              "subnet1": {
                "label": "Frontend subnet",
                "defaultValue": {
                  "name": "Frontend",
                  "addressPrefixSize": "/24"
                },
                "constraints": {
                  "minAddressPrefixSize": "/29",
                  "minAddressCount": 2,
                  "requireContiguousAddresses": true
                }
              },
              "subnet2": {
                "label": "Backend subnet",
                "defaultValue": {
                  "name": "Backend",
                  "addressPrefixSize": "/24"
                },
                "constraints": {
                  "minAddressPrefixSize": "/29",
                  "minAddressCount": 2,
                  "requireContiguousAddresses": true
                }
              }
            }
          },
          {
            "name": "Vips_Number",
            "type": "Microsoft.Common.DropDown",
            "label": "Number of Virtual IPs (VIP)",
            "defaultValue": "1",
            "toolTip": "Choose number of Virtual IP addresses to deploy for the cluster's external NIC",
            "constraints": {
              "allowedValues": [
                {
                  "label": "1",
                  "value": "1"
                },
                {
                  "label": "2",
                  "value": "2"
                },
                {
                  "label": "3",
                  "value": "3"
                },
                {
                  "label": "4",
                  "value": "4"
                },
                {
                  "label": "5",
                  "value": "5"
                },
                {
                  "label": "6",
                  "value": "6"
                },
                {
                  "label": "7",
                  "value": "7"
                },
                {
                  "label": "8",
                  "value": "8"
                },
                {
                  "label": "9",
                  "value": "9"
                },
                {
                  "label": "10",
                  "value": "10"
                }
              ],
              "required": true
            },
            "visible": true
          },
          {
            "name": "VIP_Names",
            "type": "Microsoft.Common.Section",
            "label": "VIPs Names",
            "elements": [
              {
                "name": "VIP2_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 2 name",
                "toolTip": "Choose name for VIP number 2",
                "visible": "[greater(int(steps('network').Vips_Number), 1)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP3_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 3 name",
                "toolTip": "Choose name for VIP number 3",
                "visible": "[greater(int(steps('network').Vips_Number), 2)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP4_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 4 name",
                "toolTip": "Choose name for VIP number 4",
                "visible": "[greater(int(steps('network').Vips_Number), 3)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP5_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 5 name",
                "toolTip": "Choose name for VIP number 5",
                "visible": "[greater(int(steps('network').Vips_Number), 4)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP6_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 6 name",
                "toolTip": "Choose name for VIP number 6",
                "visible": "[greater(int(steps('network').Vips_Number), 5)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP7_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 7 name",
                "toolTip": "Choose name for VIP number 7",
                "visible": "[greater(int(steps('network').Vips_Number), 6)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP8_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 8 name",
                "toolTip": "Choose name for VIP number 8",
                "visible": "[greater(int(steps('network').Vips_Number), 7)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP9_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 9 name",
                "toolTip": "Choose name for VIP number 9",
                "visible": "[greater(int(steps('network').Vips_Number), 8)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              },
              {
                "name": "VIP10_Name",
                "type": "Microsoft.Common.TextBox",
                "label": "VIP 10 name",
                "toolTip": "Choose name for VIP number 10",
                "visible": "[greater(int(steps('network').Vips_Number), 9)]",
                "constraints": {
                  "validations": [
                    {
                      "regex": "^[a-z0-9A-Z]{1,30}$",
                      "message": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
                    }
                  ]
                }
              }
            ],
            "visible": "[greater(int(steps('network').Vips_Number), 1)]"
          },
          {
            "name": "NSG",
            "type": "Microsoft.Common.OptionsGroup",
            "label": "Network Security Group",
            "toolTip": "Choose between using an existing NSG or using a new NSG",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Create new",
                  "value": true
                },
                {
                  "label": "Existing NSG",
                  "value": false
                }
              ],
              "required": true
            },
            "visible": true
          },
          {
            "name": "nsgSelector",
            "type": "Microsoft.Solutions.ResourceSelector",
            "label": "Network Security Group",
            "defaultValue": "null",
            "toolTip": "Choose an existing NSG",
            "resourceType": "Microsoft.Network/NetworkSecurityGroups",
            "options": {
              "filter": {
                "subscription": "onBasics",
                "location": "onBasics"
              }
            },
            "constraints": {
              "required": true
            },
            "visible": "[equals(steps('network').NSG, false)]"
          },
          {
            "name": "NSGName",
            "type": "Microsoft.Common.TextBox",
            "label": "Name",
            "defaultValue": "[concat(basics('clusterObjectNameUi') , '-nsg')]",
            "toolTip": "Insert Name for the new NSG",
            "multiLine": false,
            "constraints": {
              "required": "[steps('network').NSG]",
              "regex": "^[a-z0-9A-Z-]{1,30}$",
              "validationMessage": "Only alphanumeric characters are allowed, and the name must be 1-30 characters long."
            },
            "visible": "[steps('network').NSG]"
          },
          {
            "name": "addStorageAccountIpRules",
            "type": "Microsoft.Common.OptionsGroup",
            "defaultValue": "Network access from all networks",
            "label": "Storage Account Network Access",
            "toolTip": "Select your preferred network access to the Storage Account, for more information - https://learn.microsoft.com/en-us/troubleshoot/azure/virtual-machines/serial-console-linux#serial-console-security",
            "constraints": {
              "allowedValues": [
                {
                  "label": "Network access from all networks",
                  "value": false
                },
                {
                  "label": "Network access only from Serial Console",
                  "value": true
                }
              ],
              "required": true
            },
            "visible": true
          }
        ]
      },
      {
        "name": "tags",
        "label": "Tags",
        "elements": [
          {
            "name": "InfoTags",
            "type": "Microsoft.Common.InfoBox",
            "visible": "true",
            "options": {
              "icon": "Info",
              "text": "Check Point automatically configures all tags required by the solution\nOPTIONAL: Additional tags can be added below"
            }
          },
          {
            "name": "tagsByResource",
            "type": "Microsoft.Common.TagsByResource",
            "toolTip": "Create Azure tags for the new resources",
            "resources": [
              "Microsoft.Storage/storageAccounts",
              "Microsoft.Compute/availabilitySets",
              "Microsoft.Network/publicIPAddresses",
              "Microsoft.Network/networkInterfaces",
              "Microsoft.Compute/virtualMachines",
              "Microsoft.Network/loadBalancers",
              "Microsoft.Network/networkSecurityGroups",
              "Microsoft.Network/routeTables",
              "Microsoft.Network/virtualNetworks"
            ]
          }
        ]
      }
    ],
    "outputs": {
      "location": "[location()]",
      "cloudGuardVersion": "[concat(steps('chkp').cloudGuardVersion, ' - ', coalesce(steps('chkp').R80Offer, 'Bring Your Own License'))]",
      "adminPassword": "[basics('auth').password]",
      "authenticationType": "[basics('auth').authenticationType]",
      "sshPublicKey": "[basics('auth').sshPublicKey]",
      "vmName": "[basics('clusterObjectNameUi')]",
      "vmSize": "[coalesce(steps('chkp').R8110vmSizeUiBYOL, steps('chkp').R8110vmSizeUiNGTP, steps('chkp').R8110vmSizeUiNGTX, steps('chkp').R8120vmSizeUiBYOL, steps('chkp').R8120vmSizeUiNGTP, steps('chkp').R8120vmSizeUiNGTX, steps('chkp').R82vmSizeUiBYOL, steps('chkp').R82vmSizeUiNGTP, steps('chkp').R82vmSizeUiNGTX)]",
      "sicKey": "[steps('chkp').sicKeyUi]",
      "virtualNetworkName": "[steps('network').virtualNetwork.name]",
      "virtualNetworkAddressPrefixes": "[steps('network').virtualNetwork.addressPrefixes]",
      "subnet1Name": "[steps('network').virtualNetwork.subnets.subnet1.name]",
      "subnet1Prefix": "[steps('network').virtualNetwork.subnets.subnet1.addressPrefix]",
      "subnet1StartAddress": "[steps('network').virtualNetwork.subnets.subnet1.startAddress]",
      "subnet2Name": "[steps('network').virtualNetwork.subnets.subnet2.name]",
      "subnet2Prefix": "[steps('network').virtualNetwork.subnets.subnet2.addressPrefix]",
      "subnet2StartAddress": "[steps('network').virtualNetwork.subnets.subnet2.startAddress]",
      "vnetNewOrExisting": "[steps('network').virtualNetwork.newOrExisting]",
      "virtualNetworkExistingRGName": "[steps('network').virtualNetwork.resourceGroup]",
      "bootstrapScript": "[steps('chkp-advanced').bootstrapScript]",
      "allowDownloadFromUploadToCheckPoint": "[coalesce(steps('chkp-advanced').allowUploadDownload, 'true')]",
      "additionalDiskSizeGB": "[int(steps('chkp-advanced').additionalDiskSizeGB)]",
      "diskType": "[if(contains('R81.10' , steps('chkp').cloudGuardVersion) , steps('chkp-advanced').VMDiskTypeOldVersions , steps('chkp-advanced').VMDiskType)]",
      "managedSystemAssigned": "[steps('chkp-advanced').managedSystemAssigned]",
      "sourceImageVhdUri": "[coalesce(steps('chkp-advanced').sourceImageVhdUri, 'noCustomUri')]",
      "availabilityOptions": "[steps('chkp-advanced').availabilityOptions]",
      "customMetrics": "[steps('chkp-advanced').customMetrics]",
      "floatingIP": "[steps('chkp-advanced').floatingIP]",
      "publicIPPrefix": "[steps('chkp-advanced').publicIPPrefix]",
      "createNewIPPrefix": "[steps('chkp-advanced').createNewIPPrefix]",
      "ipPrefixExistingResourceId": "[steps('chkp-advanced').ipPrefixExistingResourceId]",
      "adminShell": "[steps('chkp-advanced').adminShell]",
      "smart1CloudTokenA": "[steps('chkp').Smart1CloudTokenA]",
      "smart1CloudTokenB": "[steps('chkp').Smart1CloudTokenB]",
      "tagsByResource": "[steps('tags').tagsByResource]",
      "deployNewNSG": "[steps('network').NSG]",
      "ExistingNSG": "[steps('network').nsgSelector]",
      "NewNsgName": "[steps('network').NSGName]",
      "addStorageAccountIpRules": "[steps('network').addStorageAccountIpRules]",
      "VipsNumber": "[int(steps('network').Vips_Number)]",
      "VipNames": "[concat(steps('network').VIP_Names.VIP2_Name, ',', steps('network').VIP_Names.VIP3_Name, ',', steps('network').VIP_Names.VIP4_Name, ',', steps('network').VIP_Names.VIP5_Name, ',', steps('network').VIP_Names.VIP6_Name, ',', steps('network').VIP_Names.VIP7_Name, ',', steps('network').VIP_Names.VIP8_Name, ',', steps('network').VIP_Names.VIP9_Name, ',', steps('network').VIP_Names.VIP10_Name)]",
      "SerialConsolePasswordHash": "[steps('chkp-advanced').AdditionalPassword]",
      "MaintenanceModePasswordHash": "[steps('chkp-advanced').MaintenanceModePassword]"
    }
  }
}